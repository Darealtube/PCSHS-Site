import { Container, Typography, Fade, Grow } from "@mui/material";
import type { GetStaticProps, GetStaticPropsResult } from "next";
import Head from "next/head";
import VisibilityIcon from "@mui/icons-material/Visibility";
import FlagIcon from "@mui/icons-material/Flag";
import styles from "../styles/About.module.css";
import StudentValues from "../public/pcshsPictures/valuespcshs.jpg";
import HarnessStudents from "../public/pcshsPictures/enhanceArtpcshs.jpg";
import DeservingStudents from "../public/pcshsPictures/deservingpcshs.jpg";
import EmphasizeStandards from "../public/pcshsPictures/emphasizestandardspcshs.jpg";
import Facilities from "../public/pcshsPictures/pcshsenvironment.png";
import Image from "next/image";
import { Box } from "@mui/system";
import TwitterIcon from "@mui/icons-material/Twitter";
import EmailIcon from "@mui/icons-material/Email";
import FacebookIcon from "@mui/icons-material/Facebook";
import CallIcon from "@mui/icons-material/Call";
import RoomIcon from "@mui/icons-material/Room";
import Principal from "../public/pcshsMembers/principalpcshs.png";
import VicePrincipal from "../public/pcshsMembers/assistantPrincipalpcshs.png";
import SchoolMembers from "../Components/About/Parts/SchoolMembers";
import History from "../Components/About/Parts/History";
import VisibilitySensor from "react-visibility-sensor";
import prisma from "../lib/prisma";

const Objectives = [
  {
    image: DeservingStudents,
    objective: "To offer scholarship grants to deserving, gifted students.",
  },
  {
    image: EmphasizeStandards,
    objective: `To emphasize high standards of learning and high levels of
  learning skills such as critical and creative thinking and
  problem solving.`,
  },
  {
    image: Facilities,
    objective: `To provide state-of-the-art facilities that enhance
    interactive and hands-on learning experiences.`,
  },
  {
    image: HarnessStudents,
    objective: `To harness to the fullest the artistic, athletic, managerial
    and leadership skills of the students.`,
  },
  {
    image: StudentValues,
    objective: `To inculcate among the students the values and virtues in life
    necessary in their interrelationships with selves, others,
    country, and God.`,
  },
];

const Contacts = [
  {
    icon: <TwitterIcon fontSize="large" />,
    contact: "@ssgpasigsci",
  },
  {
    icon: <EmailIcon fontSize="large" />,
    contact: "pasigcitysciencehs05@gmail.com",
  },
  {
    icon: <FacebookIcon fontSize="large" />,
    contact: "https://www.facebook.com/pcshs.edu",
  },
  {
    icon: <CallIcon fontSize="large" />,
    contact: "628-2177 / 628-2226 / 83548658",
  },
  {
    icon: <RoomIcon fontSize="large" />,
    contact: "RAVE Park, Maybunga, Pasig City",
  },
];

const About = ({ schoolMembers }: Props) => {
  return (
    <>
      <Head>
        <title>About PCSHS</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <VisibilitySensor>
        {({ isVisible }) => (
          <Fade in={isVisible} timeout={1500}>
            <Box id="vision" className={styles.main}>
              <VisibilityIcon fontSize="large" />
              <Typography gutterBottom variant="h4">
                Our Vision
              </Typography>
              <Typography paragraph align="center" variant="h5">
                PASIG CITY SCIENCE HIGH SCHOOL (PCSHS) is envisioned to be a
                world class institution that is globally and locally competitive
                and responsive to the ever-changing needs of the times,
                especially in the fields of Science and Technology.
              </Typography>
            </Box>
          </Fade>
        )}
      </VisibilitySensor>

      <VisibilitySensor>
        {({ isVisible }) => (
          <Fade in={isVisible} timeout={1500}>
            <Box id="mission" className={styles.main}>
              <FlagIcon fontSize="large" />
              <Typography gutterBottom variant="h4">
                Our Mission
              </Typography>
              <Typography paragraph align="center" variant="h5">
                PCSHSâ€™ mission is to fully develop well-rounded, science and
                technology-oriented students, nurturing and gender-sensitive
                persons, and future leaders with a vision for excellence.
              </Typography>
            </Box>
          </Fade>
        )}
      </VisibilitySensor>

      <VisibilitySensor>
        {({ isVisible }) => (
          <Fade in={isVisible} timeout={1500}>
            <Box id="objectives" className={styles.main}>
              <FlagIcon fontSize="large" />
              <Typography gutterBottom variant="h4">
                Our Objectives
              </Typography>
            </Box>
          </Fade>
        )}
      </VisibilitySensor>

      {Objectives.map(({ objective, image }) => (
        <Box key={objective}>
          <VisibilitySensor partialVisibility>
            {({ isVisible }) => (
              <Grow in={isVisible} timeout={1200}>
                <Box className={styles.objective}>
                  <Box className={styles.objectiveImage}>
                    <Image
                      src={image}
                      layout="fill"
                      objectFit="contain"
                      placeholder="blur"
                      alt={"Picture of a student with a medal."}
                    />
                  </Box>
                  <Typography variant="h5" align="center">
                    {objective}
                  </Typography>
                </Box>
              </Grow>
            )}
          </VisibilitySensor>
        </Box>
      ))}

      <VisibilitySensor partialVisibility>
        {({ isVisible }) => (
          <Fade in={isVisible} timeout={1000}>
            <Box>
              <History />
            </Box>
          </Fade>
        )}
      </VisibilitySensor>

      <VisibilitySensor partialVisibility>
        {({ isVisible }) => (
          <Fade in={isVisible} timeout={1500}>
            <Typography
              variant="h4"
              align="center"
              sx={{ marginBottom: "16px" }}
            >
              PCSHS Members
            </Typography>
          </Fade>
        )}
      </VisibilitySensor>

      <VisibilitySensor partialVisibility>
        {({ isVisible }) => (
          <Grow in={isVisible} timeout={1000}>
            <Box className={styles.member}>
              <Image
                src={Principal}
                width={240}
                height={240}
                alt={"PCSHS Principal"}
                className={styles.avatar}
              />
              <Typography variant="h6" align="center">
                Charlie O. Fababaer
              </Typography>
              <Typography variant="body1" align="center">
                School head
              </Typography>
            </Box>
          </Grow>
        )}
      </VisibilitySensor>

      <VisibilitySensor partialVisibility>
        {({ isVisible }) => (
          <Grow in={isVisible} timeout={1000}>
            <Box className={styles.member}>
              <Image
                src={VicePrincipal}
                width={240}
                height={240}
                alt={"PCSHS Principal"}
                className={styles.avatar}
              />
              <Typography variant="h6" align="center">
                Lowell H. de Ramon
              </Typography>
              <Typography variant="body1" align="center">
                Assistant to the Principal
              </Typography>
              <Typography variant="body2" align="center">
                Math Department Head Teacher
              </Typography>
            </Box>
          </Grow>
        )}
      </VisibilitySensor>

      <SchoolMembers schoolMembers={schoolMembers} />

      <VisibilitySensor partialVisibility>
        {({ isVisible }) => (
          <Fade in={isVisible} timeout={1500}>
            <Typography align="center" variant="h4" gutterBottom>
              Contact Us
            </Typography>
          </Fade>
        )}
      </VisibilitySensor>

      <VisibilitySensor partialVisibility>
        {({ isVisible }) => (
          <Fade in={isVisible} timeout={1500}>
            <Box>
              {Contacts.map(({ contact, icon }) => (
                <Box
                  display="flex"
                  alignItems="center"
                  justifyContent="center"
                  marginBottom={4}
                  key={contact}
                >
                  {icon}
                  <Typography variant="h5" align="center" gutterBottom>
                    {contact}
                  </Typography>
                </Box>
              ))}
            </Box>
          </Fade>
        )}
      </VisibilitySensor>
    </>
  );
};

export default About;

type SchoolMemberProps = {
  image: string | null;
  name: string;
  position: string[];
  role: string[];
}[];

type Props = {
  schoolMembers: SchoolMemberProps;
};

export const getStaticProps: GetStaticProps = async (): Promise<
  GetStaticPropsResult<Props>
> => {
  const schoolMembers = await prisma.member.findMany({
    select: {
      name: true,
      image: true,
      position: true,
      role: true,
    },
  });
  return { props: { schoolMembers } };
};
